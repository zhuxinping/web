<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="jquery.js"></script>
<script>
   let p1=new Promise(function (resolve,reject) {
       //异步代码
       //resolve成功
       //reject失败
        $.ajax({
            url:'data/arr.txt',
            dataType:'json',
            success(arr){
                resolve(arr);
            },
            error(err){
                reject(err)
            }
        });
   });
   let p2=new Promise(function (resolve,reject) {
       //异步代码
       //resolve成功
       //reject失败
       $.ajax({
           url:'data/json.txt',
           dataType:'json',
           success(arr){
               resolve(arr);
           },
           error(err){
               reject(err)
           }
       });
   });
  Promise.all([p1,p2]).then(function (arr) {
      //console.log(arr);
      let [res1,res2]=arr;
      console.log(res1,res2);
      alert('全都成功！');

  },function () {
      alert('至少有一个失败')
  });
</script>
</body>
</html>